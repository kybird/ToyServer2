# AI 이동 전략 (Movement Strategies)

이 문서는 게임 내 몬스터가 플레이어를 추적하거나 이동할 때 사용하는 다양한 AI 이동 전략(Movement Strategies)의 메커니즘을 설명합니다. 
모든 이동 전략은 `SimpleGame::IMovementStrategy` 인터페이스를 구현하며, 상황이나 몬스터의 특성에 맞춰 동적으로 교체될 수 있습니다.

## 1. 스마트 군집 이동 (Smart Flocking Strategy)
`SmartFlockingStrategy`

**특징:** 
기본적인 군집(Flocking) 알고리즘(응집, 정렬, 분리)에 전방 주시 충돌 회피 기법을 결합한 지능적인 이동 방식입니다.

**메커니즘:**
- **응집 & 정렬:** 주변 몬스터들과 같은 방향으로 무리를 지어 이동하려는 성향을 가집니다.
- **분리:** 다른 몬스터와 너무 가까워지면 밀어내는 힘을 발생시켜 겹침을 방지합니다.
- **인내심(Patience) 로직:** 플레이어를 향해 이동하다가 앞에 다른 몬스터가 길을 막고 있으면 억지로 밀고 들어가지 않고 잠시 정지(대기)합니다. 이로 인해 몬스터들이 겹쳐서 부들거리는 현상(Jittering)이 크게 완화됩니다.

## 2. 유체 흐름형 이동 (Fluid Stacking Strategy)
`FluidStackingStrategy`

**특징:** 
플레이어 주변을 빈 공간 없이 차곡차곡 채워 넣으려는 유체(Fluid)와 같은 흐름을 보여주는 전략입니다.

**메커니즘:**
- **장애물 우회:** 직진 경로상에 다른 몬스터(장애물)가 있을 경우, 막힌 몬스터의 이동 방향을 참고하여 좌측이나 우측으로 미끄러지듯(사이드 스텝) 우회합니다.
- **밀도 기반 포위:** 막히지 않은 빈 공간으로 지속적으로 스며들기 때문에, 결과적으로 플레이어를 빈틈없이 둘러싸게 됩니다.
- 뱀파이어 서바이벌류 게임에서 흔히 볼 수 있는 "점진적으로 조여오는 적 무리"를 입체적으로 구현할 때 적합합니다.

## 3. 포위형 군집 이동 (Surrounding Flocking Strategy)
`SurroundingFlockingStrategy`

**특징:**
적들이 좁은 쐐기 모양이나 일렬로 뭉치는 것을 방지하고, 자연스럽게 플레이어를 여러 방향에서 둘러싸도록 유도하는 전략입니다.

**메커니즘:**
- **접선 방향 슬라이딩:** 다른 몬스터와 충돌할 위기에 처하면, 단순히 뒤로 물러나는 것이 아니라 충돌 지점의 접선(Tangent) 방향으로 미끄러집니다.
- 충돌하는 몬스터들이 서로 다른 쪽으로 미끄러지기 때문에 무리가 좌우로 넓게 퍼지게 되며, 궁극적으로 플레이어를 넓은 원형으로 포위하는 진형을 형성합니다.

## 4. 엄격한 분리 이동 (Strict Separation Strategy)
`StrictSeparationStrategy`

**특징:**
다른 몬스터와 위치가 겹치지 물리적으로 겹치지 않는 것을 최우선(Strict)으로 하는 전략입니다.

**메커니즘:**
- **강제 분리:** 타겟을 향한 이동보다 몬스터 간의 충돌 회피(분리) 가중치가 매우 높게 설정되어 있습니다.
- 몬스터끼리 일정 거리 이내로 겹치게 되면, 타겟(플레이어) 추적을 완전히 멈추고 서로를 밀어내는 동작만을 수행하여 겹침을 즉각적으로 해소합니다.
- 거대한 덩치를 가진 엘리트 몬스터나 겹침이 시각적으로 어색한 유닛들에게 적합합니다.

---
**기타:**
새로운 이동 패턴이 필요할 경우 `IMovementStrategy` (위치: `Server/Entity/AI/`)를 상속받아 `CalculateMovement` 메서드를 구현하여 `Server/Entity/AI/Movement/` 디렉토리에 추가할 수 있습니다.
